<!DOCTYPE html>
<html>
<head>
    <title>PCP i9</title>
</head>
<body>

<h1>PCP i9 – Simulador de Prioridades</h1>

<h2>Parâmetros de Entrada</h2>

<form action="/upload_pedidos" method="post" enctype="multipart/form-data">

    <label>Horas disponíveis por dia:</label><br>
    <input type="number" name="horas_disponiveis" value="8" step="0.5"><br><br>

    <label>Eficiência média do sistema:</label><br>
    <input type="number" name="eficiencia" value="0.85" step="0.01"><br><br>

    <label>Tempo médio de setup (horas):</label><br>
    <input type="number" name="setup" value="0.5" step="0.1"><br><br>

    <label>Arquivo de pedidos (Excel):</label><br>
    <input type="file" name="file"><br><br>

    <button type="submit">Executar PCP</button>

</form>

<hr>

{% if gargalo %}

<h2>Resultados</h2>

<p><b>Gargalo identificado:</b> {{ gargalo }}</p>
<p><b>Indicador de atraso:</b> {{ atraso_total }}</p>

<h3>Ranking de Prioridades</h3>

<table border="1">
<tr>
    <th>Pedido</th>
    <th>Recurso</th>
    <th>Quantidade</th>
</tr>

{% for p in ranking %}
<tr>
    <td>{{ p.pedido }}</td>
    <td>{{ p.recurso }}</td>
    <td>{{ p.quantidade }}</td>
</tr>
{% endfor %}

</table>

{% endif %}

</body>
</html>
